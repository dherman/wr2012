<!doctype html>  
<html lang="en">
	
	<head>
		<meta charset="utf-8">
		
		<title>The JS VM</title>

		<meta name="description" content="An easy to use CSS 3D slideshow tool for quickly creating good looking HTML presentations.">
		<meta name="author" content="Hakim El Hattab">
		
                <link href='http://fonts.googleapis.com/css?family=Chau+Philomene+One' rel='stylesheet' type='text/css'>
		<link href='http://fonts.googleapis.com/css?family=Lato:400,700,400italic,700italic' rel='stylesheet' type='text/css'>
                <link href='http://fonts.googleapis.com/css?family=Mate+SC' rel='stylesheet' type='text/css'>
		<link href='http://fonts.googleapis.com/css?family=Trocchi' rel='stylesheet' type='text/css'>
		<link href='http://fonts.googleapis.com/css?family=Open+Sans+Condensed:700' rel='stylesheet' type='text/css'>

		<link rel="stylesheet" href="css/reset.css">
		<link rel="stylesheet" href="css/main.css">

		<link rel="stylesheet" href="lib/zenburn.css">
		<link rel="stylesheet" href="css/jsvm.css">
<style>
.orange .state-background {
    background: #f1622f;
}
.shining .state-background {
    background: url(assets/images/shining-poster.jpg);
    background-size: 1280px 1024px;
}
.unicorn .state-background {
    background: url(assets/images/unicorn-960.png);
    background-size: 1280px 960px;
}
.nacl .state-background {
    background: url(assets/images/nacl.bmp);
    background-size: 1280px 960px;
}
.swing .state-background {
    background: url(assets/images/mouse-swing-800.jpg);
    background-size: 1280px 800px;
}
</style>
	</head>
	
	<body>
		
		<div id="reveal">

			<!-- Used to fade in a background when a specific slide state is reached -->
			<div class="state-background"></div>
			
			<!-- Any section element inside of this container is displayed as a slide -->
			<div class="slides">
                                <section>
<img src=assets/images/jsvm.png class="transparent" /><br/>
<img src=assets/images/dherman.png class="transparent" />
<!--
                                  <h1 class="computer" style="color: #000; margin-bottom: 20px;">The JS VM</h1>
			          <h3 class="inverted old-school">Dave Herman / Web Rebels &rsquo;12</h3>
-->

<pre style="position: relative; top: 20px;"><code>
function f() {
    DCPU16.SET(I, 10)               // a861
          .SET(A, 0x2000)           // 7c01 2000
          .LAB("loop")
          .SET([0x2000,I], [A])     // 2161 2000
          .SUB(I, 1)                // 8463
          .IFN(I, 0)                // 806d
             .SET(PC, "loop")       // 7dc1 000d [*]
}
</code></pre>
					<script>
						// Delicously hacky. Look away.
						if( navigator.userAgent.match( /(iPhone|iPad|iPod|Android)/i ) )
						document.write( '<p style="color: rgba(0,0,0,0.3); text-shadow: none;">('+'Tap to navigate'+')</p>' );
					</script>
                                </section>

                                <section data-state=orange>
                                  <h1 class="doing-good">Doing good is part of our code.</h1>
                                  <div class="doing-good-logo">
                                    <img class=transparent src=assets/images/firefox-logo.png width=411 height=411>
                                    <div>mozilla<span>.org</span></div>
                                  </div>
                                </section>

                                <section>
                                  <h2>Buildstep: so hot</h2>

                                  <img class="transparent" src=assets/images/skrillex.jpg width=800 />
                                </section>

                                <section>
                                  <div style="position: absolute; left: 350px; top: 450px;" class="fragment">
                                    <img src=assets/images/jsmin.png class="transparent" style="" /><br/>
                                    <img src=assets/images/packer.png class="transparent" style="" />
                                  </div>
                                  <div style="position: absolute; left: 700px;" class="fragment ">
                                    <img src=assets/images/jshint.png class="transparent" style="position: relative; left: 50px;" />
                                    <img src=assets/images/jslint.gif class="transparent" style="position: relative; top: 100px;" />
                                  </div>
                                  <div style="position: absolute; z-index: 40;" class="fragment">
                                    <img src=assets/images/less.jpg class="" style="position: relative; left: -100px; top: 250px;" />
                                    <img src=assets/images/sass.png class="" style="" />
                                  </div>
                                  <div style="position: absolute; left: 0px; top: 0px;" class="fragment coffeescript">
                                    <img src=assets/images/coffeescript.png class="transparent" />
                                  </div>

                                  <blockquote class="middle">Something has changed in the last couple of years.</blockquote>
                                  <p class="attribution">&mdash; <a href="http://rmurphey.com/blog/2012/04/12/a-baseline-for-front-end-developers/">Rebecca Murphey</a></p>
                                </section>

                                <section>
                                  <h2>Why compile to JS?</h2>

                                  <ul class="altjs">
                                    <li><img src=assets/images/coffeescript.png width=138 class="transparent" style="border: solid 1px #bbb; background-color: white; padding: 5px; border-radius: 3px; background: -moz-linear-gradient(center top , rgb(248, 248, 248), rgb(218, 218, 218)) repeat scroll 0% 0% transparent;" /> &ndash; beautiful syntax, conveniences
                                    <li><img src=assets/images/clojure-logo10.png width=150 class="transparent" /> &ndash; macros, uniform data abstraction (incl. DOM)
                                    <li><img src=assets/images/roy.jpg width=150 class="transparent" /> &ndash; pattern matching, types
                                    <li><img src=assets/images/adsafe.gif width=150 class="transparent" /> &ndash; security, isolation
                                      <li><img src=assets/images/tamejs.png width=150 class="transparent" /> &ndash; synchronous style events
                                  </ul>
                                </section>

                                <section>
                                  <img src="assets/images/shanselman.png">
                                  <img src="assets/images/shanselman-headshot.jpg" class="transparent" style="position: relative; top: 60px; left: -130px; box-shadow: 0px 3px 5px rgba(0, 0, 0, 0.3);">
                                </section>

                                <section>
                                  <h2 style="position: relative; top: 150px; line-height: 1.2em;">Then why not standardize a bytecode VM?</h2>
                                </section>

                                <section>
                                  <img style="position: relative; top: 100px; border: solid 1px lightgray;" class="transparent" src=assets/images/applet-loading.png />
                                  <img style="position: relative; top: -80px; left: -170px;" class="transparent" src=assets/images/sbbod.gif />
                                </section>

                                <section>
                                  <div style="position: relative; top: 150px;">
                                  <blockquote>We had always thought that Java's JVM would be the VM of the web, but it turns out that it's JavaScript. JavaScript's parser does a more efficient job... than the JVM's bytecode verifier.</blockquote>
                                  <p class="attribution">&mdash; <a href="http://www.hanselman.com/blog/JavaScriptIsAssemblyLanguageForTheWebPart2MadnessOrJustInsanity.aspx">Doug Crockford</a></p>
                                  </div>
                                </section>


                                <section>
                                  <h2>JS &gt; bytecode</h2>

                                  <ul style="position: relative; top: 100px;">
                                    <li> Dynamic typing &rArr; no verification
                                    <li> Type inference &rArr; delayed optimization
                                    <li> Would bytecode compress as well?
                                    <li> Bytecode standardization would suck.
                                    <li> View source
                                    <li> Humans like writing JS!
                                  </ul>
                                </section>

                                <section>
                                  <h2>One JS, for humans <u>and</u> computers</h2>

                                  <img src=assets/images/yinyang.gif width=300 class="transparent" style="position: relative; top: 50px;" />
                                </section>

                                <section>
                                  <h2>ECMAScript Edition 6</h2>

<div style="position: relative; top: 50px;">
                                  <p><a href="http://wiki.ecmascript.org/doku.php?id=harmony:harmony"><strong>Official goals</strong></a>: a better language for</p>

                                  <ul>
                                    <li>applications</li>
                                    <li>libraries</li>
                                    <li><strong>code generators</strong> <img src="assets/images/left-arrow.png" class="transparent" style="vertical-align: bottom; margin-left: 20px;" width=95 height=46></li>
                                  </ul>
</div>
                                </section>

                                <section>
                                  <section>

                                    <h2>Example: goto</h2>

<pre style="position: relative; top: 100px;"><code contenteditable>
function f() {
L0:
    g();
L1:
    if (p)
        goto L0;
    o.m();
    goto L1;
}
</code></pre>
                                  </section>

                                  <section>
                                    <img style="position: absolute; left: -120px; top: 320px;" src=assets/images/dijkstra.jpg height=300 />

                                    <h2>goto considered...</h2>

                                    <ul style="position: relative; top: 100px;">
                                      <li><b>Compilers:</b> yes please!
                                      <li><b>Humans:</b> DO NOT WANT
                                    </ul>

                                  </section>

                                  <section>
                                    <h2>Better: proper tail calls</h2>

<pre style="position: relative; top: 50px;"><code contenteditable>
function f() {
    function L0() {
        g();
        return L1();     // goto with arguments
    }
    function L1() {
        if (p)
            return L0(); // goto with arguments
        o.m();
        return L0();     // goto with arguments
    }
    return L0();         // goto with arguments
}
</code></pre>

<p style="position: relative; top: 80px;"><a href="http://wiki.ecmascript.org/doku.php?id=harmony:proper_tail_calls">ES6 proposal</a></p>
                                  </section>
                                </section>

                                <section>
                                  <h2 style="position: relative; top: 150px; line-height: 1.2em;">Cool story.<br/>But compared to native...</h2>
                                </section>

                                <section>
                                  <img class="transparent" src=assets/images/nacl-rocks.jpg width=1280 style="position: absolute; top: -100px; left: -190px; padding: 0; margin: 0;" />
                                  <h1 style="color: white; position: relative; top: 50px;">NaCl?</h1>

                                  <ul style="position: absolute; top: 400px; left: 50px;">
                                    <li style="color: #008000;">Impressive engineering
                                    <li style="color: #008000;">Driving competition
                                  </ul>

                                  <ul style="position: absolute; top: 400px; left: 550px; width: 500px;">
                                    <li style="color: #a00000;">Unportable
                                    <li style="color: #a00000;">Defined by implementation
                                    <li style="color: #a00000;">No view source
                                  </ul>
                                </section>

                                <section>
                                  <h2>JS can sandbox, too</h2>

<pre style="position: relative; top: 150px;"><code contenteditable>
var HEAP = new ArrayBuffer(HEAP_SIZE);

</code></pre>

<p style="position: relative; top: 200px;"><a href="http://emscripten.org">http://emscripten.org</a></p>

                                </section>

                                <section>
                                  <a href="http://syntensity.com/static/bb/client_7b.html"><img src=assets/images/banana-bread.jpg /></a>
                                </section>


                                <section>
                                  <img src="assets/images/mraleph.png">
                                  <img src="assets/images/slava.jpg" class="transparent" style="position: relative; top: -50px; left: 250px; box-shadow: 0px 3px 5px rgba(0, 0, 0, 0.3);">
                                </section>

                                <section>
                                  <h2>Low-Level JavaScript</h2>

                                  <div style="position: relative; top: 50px;">
<pre><code class="language-javascript" contenteditable>
function void swap(int *a, int *b) {
    var int tmp = *a;
    *a = *b;
    *b = tmp;
}

var int x = 1, y = 2;
swap(&x, &y);
console.log(x, y);

</code></pre>

<p style="margin-top: 1em;"><a href="http://lljs.org">http://lljs.org</a></p>
                                  </div>
                                </section>

                                <section>
                                  <h2 style="position: relative; top: 150px;;">Missing VM features?</h2>
                                </section>
				
				<section>
<img class="transparent" style="position: absolute; top: 50px; left: 255px;" src=assets/images/types.png width=450 />

<img class="transparent" src=assets/images/screaming-woman.png style="border: 0; position: absolute; top: 250px; left: 10px;" />
<!--
					<h1 class="title-slide" style="font-size: 500%; color: #000; margin-bottom: 20px;">Types!</h1>

<img src="assets/images/screaming-woman.png" style="
    border: 0;
float: left;
width: 297px;
height: 300px;
-moz-box-shadow: none;
box-shadow: none !important;
background:none;
margin: 0;
">
-->
				</section>

                                <section>
                                  <h2>OMG NOOOOO</h2>

                                  <pre><code contenteditable>
class AbstractSingletonProxyFactoryBean {
    /** @type Object It's an object! */
    private Object bean;
}
                                  </code></pre>

                                  <img width=638 height=261 src="assets/images/skywalker-nooooo-cropped.jpg">
                                </section>

                                <section>
                                  <h2>Typed arrays</h2>

<pre style="position: relative; top: 100px;"><code contenteditable>
var a = new Uint32Array(1024);

for (var i = 0, n = a.length; i < n; i++) {
    a[i] = i * i;
}
</code></pre>
                                </section>

                                <section>
                                  <h2>Typed objects</h2>

                                  <pre style="position: relative; top: 50px;"><code contenteditable>
// a user-defined type
var Point = struct({
    x: uint32,
    y: uint32
});

var origin = new Point(0, 0);

console.log(origin.x); // 0
console.log(origin.y); // 0
                                  </code></pre>

<p style="position: relative; top: 100px;"><a href="http://wiki.ecmascript.org/doku.php?id=harmony:binary_data">ES6 proposal</a></p>
                                </section>

                                <section>
                                  <h2>JITs ♥ typed objects</h2>

                                  <img src=assets/images/PIC.png class="transparent" style="position: relative; top: 100px;" />
                                </section>
				
                                <section>
                                  <h2>Goal: Cross-Compile XNA</h2>

                                  <img src=assets/images/lumberjack.jpg class="transparent" style="margin-bottom: 1em;" />

                                  <p>
                                  <img src=assets/images/jsil_48px.png class="transparent" style="vertical-align: middle;" />
                                  <a href="http://jsil.org">http://jsil.org</a>
                                  </p>
                                </section>

                                <section>
                                  <h2>Goal: Cross-Compile Android</h2>

                                  <img src=assets/images/legion.png class="transparent" style="margin-bottom: 1em;" height=400 />

                                  <p>
                                  <a href="http://xmlvm.org">http://xmlvm.org</a>
                                  </p>
                                </section>

                                <section>
                                  <h2>Parallelism!</h2>

                                  <img class="transparent" src=assets/images/opteron.png />
				  <img class="transparent" width="561" height="326" src="assets/images/gpu.png" style="position: relative; top: 100px;">
                                </section>

                                <section>
                                  <h2>River Trail</h2>

<pre style="position: relative; top: 100px;"><code contenteditable>
pixelData.map(toGrayScale)
         .map(function(color) {
    return [color,color,color,255]; // new pixel
})

</code></pre>

<p style="position: relative; top: 150px;"><a href="http://wiki.ecmascript.org/doku.php?id=strawman:data_parallelism">ES7 proposal</a></p>
                                </section>

                                <section>
                                  <h2>PJS: Parallel JavaScript</h2>

<pre style="position: relative; top: 100px;"><code contenteditable>
var tasks = rows.map(function(row, i) {
    return fork(render, i); // fork a subtask
});
oncompletion(function() {
    var images = tasks.map(function(task) {
        return task.get();  // get subtask result
    });
    display(images);
});

</code></pre>

                                </section>

                                <section>
                                  <h2>The web is the platform.</h2>

                                  <ul style="position: relative; top: 100px;">
                                    <li>JS is the web's &ldquo;virtual machine&rdquo;
                                    <li>Compilers: productivity, performance, portability
                                    <li>We're growing JS for people <i>and</i> compilers
                                  </ul>
                                </section>

                                <section>
                                  <img width=768 height=515 src="assets/images/firefox-hi.jpg">
                                </section>
			</div>

			<!-- The navigational controls UI -->
			<aside class="controls">
				<a class="left" href="#">&#x25C4;</a>
				<a class="right" href="#">&#x25BA;</a>
				<a class="up" href="#">&#x25B2;</a>
				<a class="down" href="#">&#x25BC;</a>
			</aside>

			<!-- Displays presentation progress, max value changes via JS to reflect # of slides -->
			<div class="progress"><span></span></div>
			
		</div>
		
		<script src="js/reveal.js"></script>

		<!-- Optional libraries for code syntax highlighting and classList support in IE9 -->
		<script src="lib/highlight.js"></script>
		<script src="lib/classList.js"></script>
		
		<script>
			// Parse the query string into a key/value object
			var query = {};
			location.search.replace( /[A-Z0-9]+?=(\w*)/gi, function(a) {
				query[ a.split( '=' ).shift() ] = a.split( '=' ).pop();
			} );

			Reveal.initialize({
				// Display controls in the bottom right corner
				controls: true,

				// Display a presentation progress bar
				progress: true,

				// If true; each slide will be pushed to the browser history
				history: true,

				// Flags if mouse wheel navigation should be enabled
				mouseWheel: true,

				// Apply a 3D roll to links on hover
				rollingLinks: true,

				// UI style
				theme: query.theme || 'default', // default/neon

				// Transition style
				transition: query.transition || 'default' // default/cube/page/concave/linear(2d)
			});

			hljs.initHighlightingOnLoad();
		</script>

	</body>
</html>
